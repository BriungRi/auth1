<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Auth1 Example Application</title>
    <style type="text/css">
        .gray-container {
            background-color: #f1f1f1;
            display: table;
            margin-left: auto;
            margin-right: auto;
            margin-top: 50px;
            padding: 10px;
            border: 2px solid #d1d1d1;
        }
    </style>
</head>
<body>
<form action="{{ url_for('confirm_totp') }}" method="post">
    <div class="gray-container">
        <h1>TOTP Registration</h1>
        {% if secret %}
            <div><img src = "{{ url_for('totp_qr', secret=secret) }}" style="width: 200px; display: block; margin: auto;"/></div>
        {% endif %}
        {% with messages = get_flashed_messages() %}
        {% for message in messages %}
        <div style="color: darkred;margin-bottom: 15px;">
            {{ message }}
        </div>
        {% endfor %}
        {% endwith %}
        <div>Scan the above image with your authenticator app and confirm the code below to complete the setup.</div>
        <div>
            <label for="code"><b>TOTP Code</b></label>
            <input type="text" placeholder="TOTP Code" name="code" style="font-size: 1.5em; width: 6em;">
            <button type="submit" style="font-size: 1.5em; margin-left: 10px;">Confirm</button>
        </div>
    </div>
</form>
</body>
</html>